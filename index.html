<!DOCTYPE html>
<html>
<head>
  <script src="lib/dsp.js"></script>
  <script src="lib/d3.v2.js"></script>
  <script src="src/spectrum_analyzer.js"></script>
  <script src="src/spectrum_analyzer_view.js"></script>
  <script src="src/url_audio_source.js"></script>
  <style>
    body { background: black; text-align:center; } 
  </style>
</head>

<body>
  <div role="main">
    <div id="spectrum_analyzer"></div>
      <script language="javascript">

        var context;
        var model;
        var source;
        var view

        window.onload = function() {

          context = new webkitAudioContext();
          source = new UrlAudioSource(context, "media/sweep.mp3", function() {
            model = new SpectrumAnalyzer(context, source);
            view = new SpectrumAnalyzerView(model, "#spectrum_analyzer");
            view.update();
          });

        }

      </script>
    </div>
  </body>
</html>
